# xnote

xnote是一个基于webapp的笔记系统，提供类似于wiki的资料管理系统以及常用的工具集成环境(主要是开发工具)

作为一名程序猿，对我来说，有两件事情让我觉得非常重要，一是知识经验的积累，而是集成的工具，前者帮我出谋划策，而后者则能为我攻城略地。现在其实前者已经得到了很好的改善，有很多好用的工具可以用来记笔记，管理文档。但是后者我觉得还是比较尴尬的，有一些网站集成了一些工具供我们使用，但是也往往不能很好的满足开发需求，一方面受限于网络安全不能操作本地文件，另一方面则是有的需求确实太独特无法推广成软件来使用。管理大量的软件也是个麻烦事，而且有的软件启动缓慢，功能冗余，形同鸡肋。所以我准备做一款工具来满足自己的需求，它应该有如下特征

- 提供资料编辑搜索功能(笔记功能)
- 集成开发工具，并且很容易扩展和查找，而且修改之后立即生效，最好可以动态开启和关闭(开发工具集成)
- 有些功能最好直接可以通过搜索框使用(搜索优化)
- 不在家的时候我也想在手机上使用(使用webapp的模式)
 
笔记的目的是管理知识，xnote最终目标也是管理个人生活工作中的数据和知识.

注意：本项目主要是个人使用，不考虑并发问题，当然界面UI也不是重点[微笑]

-----
## 环境依赖

- Python 3

### 开发框架/软件库

- webpy (修改版)
- tornado template
- cherrypy (webpy依赖的httpserver)
- sqlite3 (Python自带文件型数据库，不支持多线程操作)
- psutil(可选，采集系统运行数据)

### 前端

- jquery
- marked(markdown解析器)
- qrcode 二维码生成器

## 功能结构

- 自动搜索`handlers`目录下的Python文件中的handler，可以通过继承约定或者设置`xurls`属性来配置路由，下面是一个例子

```py
# 最简单的handler
class handler:    
    def GET(self):
        return "success"

xurls = ("/test", handler)
# 放在handlers目录下面，然后访问浏览器localhost:1234/test就会看到success
```

- `handlers/tasks`是定时任务, TODO
- `handlers/tools`目录下是开发工具，可以通过搜索功能定位
- `scripts/`目录下是系统脚本,直接与操作系统交互

### 搜索
- 笔记搜索
- 工具搜索，搜索`handlers/tools/`目录下的工具
- 翻译（由于版权问题，数据库未上传）
- 计算简单的数学公式

### 集成的工具
- 文件浏览器(localhost:1234/fs/,目前仅限admin)
- 编解码工具(base64,二维码)
- 文本比较工具(jsdiff)
- 代码模板

### 其他
- debug模式下自动侦测文件修改并重新加载
- 支持文件断点续传
- 使用响应式布局（其实是偷懒）

## 配置运行
- config/users.ini 用户配置，管理员可以添加账户，不支持注册

```
; 用户名
[admin]
; 密码
password=123456
```

- 启动服务器`python app.py`, 默认1234端口, 浏览器打开http://localhost:1234/ 即可

## 协议

- Apache License (tornado)